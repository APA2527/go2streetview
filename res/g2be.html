<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html style="width:100%; height:100%">
   <head>
      <title>Bing Maps Embedded</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   </head>
   <body style="width:100%; height:100%; margin:0 0 0 0;">
      <div id='myMap' style="position:relative; width:100%; height:100%"></div>
   </body>

      <script type="text/javascript">
        var map;
        var markersLayer;
        var SVpov;
        var lat_param = gup('lat');
        var long_param = gup('long');
        var width_param = gup('width');
        var height_param = gup('height');
        var heading_param = parseInt(gup('heading'));
        var z_param = gup('zoom');



        function GetMap()
        {
            //var options = new VEMapOptions();
            switch(heading_param){
            case 0:
                break;
            case 90:
                break;
            case 180:
                break;
            case 270:
                break;
            }
            map = new Microsoft.Maps.Map(document.getElementById('myMap'), {
                center: new Microsoft.Maps.Location(lat_param, long_param),
                zoom: z_param,
                mapTypeId: Microsoft.Maps.MapTypeId.birdseye,
                supportedMapTypes: [
                    Microsoft.Maps.MapTypeId.aerial,
                    Microsoft.Maps.MapTypeId.streetside,
                    Microsoft.Maps.MapTypeId.birdseye,
                ],
            });
            markersLayer = new Microsoft.Maps.Layer();
            map.layers.insert(markersLayer);


            setTimeout(function() {
                console.log('viewchange')
                var x = document.getElementsByClassName("birdseyeV2InfoExitControl");
                console.log(x, x.item(0));
                x.item(0).style.setProperty('display', 'none');
            },1000);

        }

        function gup(name)
        {
          name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
          var regexS = "[\\?&]"+name+"=([^&#]*)";
          var regex = new RegExp( regexS );
          var results = regex.exec( window.location.href );
          if( results == null )
            return "";
          else
            return results[1];
        }

      </script>

   <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?key=AjiwT91WKKapa79ZbRdGpoGLRslHQ1RBazR_VZo2SFpw_zLEydZGZUAKpnS7D2wh&callback=GetMap' async defer></script>
</html>
